{"ast":null,"code":"import React,{useState}from'react';import'./TodoApp.css';// Use the same CSS for styling\n// onLoginSuccess and onSwitchToRegister are functions passed from App.js\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){let{onLoginSuccess,onSwitchToRegister}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[message,setMessage]=useState('');// Use the live backend URL\nconst backendURL=\"https://todo-backend-sawo.onrender.com\";const handleLogin=async e=>{e.preventDefault();setMessage('');try{const response=await fetch(\"\".concat(backendURL,\"/login\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});const data=await response.json();if(response.ok){// Login successful (for now, we just switch the view)\nsetMessage(\"Success: \".concat(data.message));onLoginSuccess();// Tell App.js to switch to the ToDo list\n}else{// Error from server (e.g., Invalid Credentials)\nsetMessage(\"Error: \".concat(data.error||'Login failed. Check email/password.'));}}catch(error){setMessage('Network error. Could not connect to the server.');}};return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"todo-container\",style:{maxWidth:'400px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDD11 Log In\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Email\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Password\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Log In\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{style:{color:message.startsWith('Error')?'red':'green',marginTop:'10px'},children:message}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'20px'},children:[\"Don't have an account?\",/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:'10px'},onClick:onSwitchToRegister// Button to switch to Register view\n,children:\"Sign Up\"})]})]})});}export default Login;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Login","_ref","onLoginSuccess","onSwitchToRegister","email","setEmail","password","setPassword","message","setMessage","backendURL","handleLogin","e","preventDefault","response","fetch","concat","method","headers","body","JSON","stringify","data","json","ok","error","className","children","style","maxWidth","onSubmit","type","value","onChange","target","placeholder","required","color","startsWith","marginTop","marginLeft","onClick"],"sources":["C:/Users/DEVI V/todo-backend/todo-frontend/src/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './TodoApp.css'; // Use the same CSS for styling\r\n\r\n// onLoginSuccess and onSwitchToRegister are functions passed from App.js\r\nfunction Login({ onLoginSuccess, onSwitchToRegister }) {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    \r\n    // Use the live backend URL\r\n    const backendURL = \"https://todo-backend-sawo.onrender.com\"; \r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        setMessage('');\r\n\r\n        try {\r\n            const response = await fetch(`${backendURL}/login`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ email, password }),\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (response.ok) {\r\n                // Login successful (for now, we just switch the view)\r\n                setMessage(`Success: ${data.message}`);\r\n                onLoginSuccess(); // Tell App.js to switch to the ToDo list\r\n            } else {\r\n                // Error from server (e.g., Invalid Credentials)\r\n                setMessage(`Error: ${data.error || 'Login failed. Check email/password.'}`);\r\n            }\r\n\r\n        } catch (error) {\r\n            setMessage('Network error. Could not connect to the server.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"app\">\r\n            <div className=\"todo-container\" style={{maxWidth: '400px'}}>\r\n                <h1>ðŸ”‘ Log In</h1>\r\n                \r\n                <form onSubmit={handleLogin}>\r\n                    <input\r\n                        type=\"email\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        placeholder=\"Email\"\r\n                        required\r\n                    />\r\n                    <input\r\n                        type=\"password\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        placeholder=\"Password\"\r\n                        required\r\n                    />\r\n                    <button type=\"submit\">Log In</button>\r\n                </form>\r\n\r\n                {message && <p style={{color: message.startsWith('Error') ? 'red' : 'green', marginTop: '10px'}}>{message}</p>}\r\n                \r\n                <p style={{marginTop: '20px'}}>\r\n                    Don't have an account? \r\n                    <button \r\n                        style={{marginLeft: '10px'}} \r\n                        onClick={onSwitchToRegister} // Button to switch to Register view\r\n                    >\r\n                        Sign Up\r\n                    </button>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}