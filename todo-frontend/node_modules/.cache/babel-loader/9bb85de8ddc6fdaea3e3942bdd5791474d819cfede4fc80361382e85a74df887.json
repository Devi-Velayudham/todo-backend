{"ast":null,"code":"import React,{useState}from'react';import'./TodoApp.css';// Use the same CSS for styling\n// --- CHANGE 1: Accept props from App.js ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(_ref){let{onSuccess,onSwitchToLogin}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[message,setMessage]=useState('');// Use the live backend URL\nconst backendURL=\"https://todo-backend-sawo.onrender.com\";const handleRegister=async e=>{e.preventDefault();setMessage('');try{const response=await fetch(\"\".concat(backendURL,\"/register\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});const data=await response.json();if(response.ok){// Success!\nsetMessage(\"Success: \".concat(data.message,\" Please log in.\"));setEmail('');setPassword('');// --- CHANGE 2: Call onSuccess to switch view ---\nonSuccess();}else{// Error from server (e.g., email already exists)\nsetMessage(\"Error: \".concat(data.error||'Registration failed.'));}}catch(error){setMessage('Network error. Could not connect to the server.');}};return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"todo-container\",style:{maxWidth:'400px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCDD Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Email\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Password\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{style:{color:message.startsWith('Error')?'red':'green',marginTop:'10px'},children:message}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'20px'},children:[\"Already have an account?\",/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:'10px',textDecoration:'underline'},onClick:onSwitchToLogin,children:\"Log In\"})]})]})});}export default Register;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Register","_ref","onSuccess","onSwitchToLogin","email","setEmail","password","setPassword","message","setMessage","backendURL","handleRegister","e","preventDefault","response","fetch","concat","method","headers","body","JSON","stringify","data","json","ok","error","className","children","style","maxWidth","onSubmit","type","value","onChange","target","placeholder","required","color","startsWith","marginTop","marginLeft","textDecoration","onClick"],"sources":["C:/Users/DEVI V/todo-backend/todo-frontend/src/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './TodoApp.css'; // Use the same CSS for styling\r\n\r\n// --- CHANGE 1: Accept props from App.js ---\r\nfunction Register({ onSuccess, onSwitchToLogin }) {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    \r\n    // Use the live backend URL\r\n    const backendURL = \"https://todo-backend-sawo.onrender.com\"; \r\n\r\n    const handleRegister = async (e) => {\r\n        e.preventDefault();\r\n        setMessage('');\r\n\r\n        try {\r\n            const response = await fetch(`${backendURL}/register`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ email, password }),\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (response.ok) {\r\n                // Success!\r\n                setMessage(`Success: ${data.message} Please log in.`);\r\n                setEmail('');\r\n                setPassword('');\r\n                \r\n                // --- CHANGE 2: Call onSuccess to switch view ---\r\n                onSuccess(); \r\n            } else {\r\n                // Error from server (e.g., email already exists)\r\n                setMessage(`Error: ${data.error || 'Registration failed.'}`);\r\n            }\r\n\r\n        } catch (error) {\r\n            setMessage('Network error. Could not connect to the server.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"app\">\r\n            <div className=\"todo-container\" style={{maxWidth: '400px'}}>\r\n                <h1>üìù Sign Up</h1>\r\n                \r\n                <form onSubmit={handleRegister}>\r\n                    <input\r\n                        type=\"email\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        placeholder=\"Email\"\r\n                        required\r\n                    />\r\n                    <input\r\n                        type=\"password\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        placeholder=\"Password\"\r\n                        required\r\n                    />\r\n                    <button type=\"submit\">Register</button>\r\n                </form>\r\n\r\n                {/* Display messages */}\r\n                {message && <p style={{color: message.startsWith('Error') ? 'red' : 'green', marginTop: '10px'}}>{message}</p>}\r\n                \r\n                <p style={{marginTop: '20px'}}>\r\n                    Already have an account? \r\n                    {/* --- CHANGE 3: Use a button to call onSwitchToLogin --- */}\r\n                    <button \r\n                        style={{marginLeft: '10px', textDecoration: 'underline'}} \r\n                        onClick={onSwitchToLogin}\r\n                    >\r\n                        Log In\r\n                    </button>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}